openapi: 3.0.3
info:
  title: AI Studio - Published Service
  version: 1.0.0
servers:
  - url: localhost:5002
tags:
  - name: invocations
    description: MLflow model invocation
paths:
  /invocations:
    post:
      tags:
        - invocations
      summary: Do a Model Invocation
      description: description
      requestBody:
        description: Input from model signature
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelInput'
        required: true
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelOutput'          
components:
  schemas:
    ModelInput:
      type: object
      properties:
        inputs: 
          type: object
          properties:
            {% for inputParam in data.inputs %}
            {{ inputParam.name }}:
              type: array
              items:
                type: {{ inputParam.type }}
            {% endfor %}   
        params:
          type: object
          properties:
            {% for param in data.params %}
            {{ param.name }}:
              type: {{ param.type }}
            {% endfor %} 
    ModelOutput:
      type: object
      properties:
        {% for outputParam in data.outputs %}
        {{ outputParam.name }}:
          type: {{ outputParam.type }}
        {% endfor %}           